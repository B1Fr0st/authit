{
  "info": {
    "name": "Authit License Server",
    "description": "Complete API collection for the Authit license management server",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "apiKey",
      "value": "your-api-key-here",
      "type": "string"
    },
    {
      "key": "testLicenseKey",
      "value": "ABC123-DEF456-GHI789",
      "type": "string"
    },
    {
      "key": "testProductId",
      "value": "premium-software-v1",
      "type": "string"
    },
    {
      "key": "testHwid",
      "value": "machine-12345",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Public Endpoints",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/public/health",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "public", "health"]
            },
            "description": "Simple health check to verify server is running"
          }
        },
        {
          "name": "Authorize License",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-License-Key",
                "value": "{{testLicenseKey}}",
                "type": "text"
              },
              {
                "key": "X-Product-ID",
                "value": "{{testProductId}}",
                "type": "text"
              },
              {
                "key": "X-HWID",
                "value": "{{testHwid}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/public/auth",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "public", "auth"]
            },
            "description": "Authorize a license key with HWID for a specific product. First call binds the HWID to the license."
          }
        },
        {
          "name": "Get Product Info",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-License-Key",
                "value": "{{testLicenseKey}}",
                "type": "text"
              },
              {
                "key": "X-Product-ID",
                "value": "{{testProductId}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/public/product",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "public", "product"]
            },
            "description": "Get product information for a license, including time remaining and activation status"
          }
        }
      ]
    },
    {
      "name": "Private - License Management",
      "item": [
        {
          "name": "Generate License",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"products\": {\n    \"premium-software-v1\": 2592000,\n    \"addon-pack\": 7776000\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/license/generator",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "license", "generator"]
            },
            "description": "Generate a new license key with specified products and time allocations (in seconds)"
          }
        },
        {
          "name": "Add Product to License",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"license\": \"{{testLicenseKey}}\",\n  \"products\": {\n    \"new-product-1\": 2592000,\n    \"new-product-2\": 7776000\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/license/add-product",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "license", "add-product"]
            },
            "description": "Add one or more products to an existing license with time allocations (in seconds)"
          }
        },
        {
          "name": "Remove Product from License",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"license\": \"{{testLicenseKey}}\",\n  \"products\": [\n    \"product-to-remove\"\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/license/delete-product",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "license", "delete-product"]
            },
            "description": "Remove one or more products from an existing license"
          }
        },
        {
          "name": "Ban License",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"license\": \"{{testLicenseKey}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/license/ban",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "license", "ban"]
            },
            "description": "Ban a license (but not its HWID). License cannot be used for authorization."
          }
        },
        {
          "name": "Unban License",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"license\": \"{{testLicenseKey}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/license/unban",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "license", "unban"]
            },
            "description": "Unban a previously banned license"
          }
        },
        {
          "name": "Delete License",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"license\": \"{{testLicenseKey}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/license/delete",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "license", "delete"]
            },
            "description": "Permanently delete a license and all associated data"
          }
        },
        {
          "name": "Reset License HWID",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"license\": \"{{testLicenseKey}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/license/reset-hwid",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "license", "reset-hwid"]
            },
            "description": "Reset the HWID binding for a license, allowing it to be bound to a new machine"
          }
        }
      ]
    },
    {
      "name": "Private - HWID Management",
      "item": [
        {
          "name": "Ban HWID",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"hwid\": \"{{testHwid}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/hwid/ban",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "hwid", "ban"]
            },
            "description": "Ban a HWID across ALL licenses. Any license with this HWID cannot authorize."
          }
        },
        {
          "name": "Unban HWID",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"hwid\": \"{{testHwid}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/hwid/unban",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "hwid", "unban"]
            },
            "description": "Unban a HWID across ALL licenses"
          }
        }
      ]
    },
    {
      "name": "Private - Product Management",
      "item": [
        {
          "name": "Create Product",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product\": \"{{testProductId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/product/create",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "product", "create"]
            },
            "description": "Create a new product in the system. Products must exist before they can be added to licenses."
          }
        },
        {
          "name": "Delete Product",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product\": \"{{testProductId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/product/delete",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "product", "delete"]
            },
            "description": "Delete a product from the system. WARNING: This will also remove the product from ALL licenses."
          }
        },
        {
          "name": "Freeze Product",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product\": \"{{testProductId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/product/freeze",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "product", "freeze"]
            },
            "description": "Freeze a product. Frozen products cannot be authorized even with valid licenses. Returns AlreadyFrozen if product is already frozen."
          }
        },
        {
          "name": "Unfreeze Product",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product\": \"{{testProductId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/product/unfreeze",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "product", "unfreeze"]
            },
            "description": "Unfreeze a product, allowing authorization again. Automatically extends license time to account for frozen period. Returns AlreadyUnfrozen if product is already unfrozen."
          }
        }
      ]
    },
    {
      "name": "Private - Data & Monitoring",
      "item": [
        {
          "name": "Get All Licenses",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/data/licenses",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "data", "licenses"]
            },
            "description": "Get all licenses with their sessions for monitoring"
          }
        },
        {
          "name": "Get All Products",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/data/products",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "data", "products"]
            },
            "description": "Get all products in the system"
          }
        },
        {
          "name": "Get Login Logs",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/data/logins?limit=100",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "data", "logins"],
              "query": [
                {
                  "key": "limit",
                  "value": "100",
                  "description": "Maximum number of logs to return"
                }
              ]
            },
            "description": "Get authorization attempt logs for monitoring"
          }
        },
        {
          "name": "Get System Logs",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/private/data/logs?limit=1000",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "private", "data", "logs"],
              "query": [
                {
                  "key": "limit",
                  "value": "1000",
                  "description": "Maximum number of log entries"
                }
              ]
            },
            "description": "Get system logs for debugging and monitoring"
          }
        }
      ]
    }
  ]
}
